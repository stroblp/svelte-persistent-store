function Z(){}function qe(u){return u()}function He(){return Object.create(null)}function de(u){u.forEach(qe)}function rn(u){return typeof u=="function"}function nn(u,h){return u!=u?h==h:u!==h||u&&typeof u=="object"||typeof u=="function"}function tn(u){return Object.keys(u).length===0}function Ze(u,...h){if(u==null)return Z;const y=u.subscribe(...h);return y.unsubscribe?()=>y.unsubscribe():y}function pn(u){let h;return Ze(u,y=>h=y)(),h}function gn(u,h,y){u.$$.on_destroy.push(Ze(h,y))}function _n(u,h,y){return u.set(y),h}function bn(u,h){u.appendChild(h)}function wn(u,h,y){u.insertBefore(h,y||null)}function on(u){u.parentNode.removeChild(u)}function En(u){return document.createElement(u)}function an(u){return document.createTextNode(u)}function Sn(){return an(" ")}function In(u,h,y,I){return u.addEventListener(h,y,I),()=>u.removeEventListener(h,y,I)}function Rn(u,h,y){y==null?u.removeAttribute(h):u.getAttribute(h)!==y&&u.setAttribute(h,y)}function fn(u){return Array.from(u.childNodes)}function An(u,h){h=""+h,u.wholeText!==h&&(u.data=h)}let xe;function oe(u){xe=u}const te=[],Xe=[],le=[],Je=[],un=Promise.resolve();let Re=!1;function sn(){Re||(Re=!0,un.then(er))}function Ae(u){le.push(u)}const Ie=new Set;let ue=0;function er(){const u=xe;do{for(;ue<te.length;){const h=te[ue];ue++,oe(h),cn(h.$$)}for(oe(null),te.length=0,ue=0;Xe.length;)Xe.pop()();for(let h=0;h<le.length;h+=1){const y=le[h];Ie.has(y)||(Ie.add(y),y())}le.length=0}while(te.length);for(;Je.length;)Je.pop()();Re=!1,Ie.clear(),oe(u)}function cn(u){if(u.fragment!==null){u.update(),de(u.before_update);const h=u.dirty;u.dirty=[-1],u.fragment&&u.fragment.p(u.ctx,h),u.after_update.forEach(Ae)}}const ln=new Set;function dn(u,h){u&&u.i&&(ln.delete(u),u.i(h))}function vn(u,h,y,I){const{fragment:C,on_mount:x,on_destroy:T,after_update:_}=u.$$;C&&C.m(h,y),I||Ae(()=>{const A=x.map(qe).filter(rn);T?T.push(...A):de(A),u.$$.on_mount=[]}),_.forEach(Ae)}function hn(u,h){const y=u.$$;y.fragment!==null&&(de(y.on_destroy),y.fragment&&y.fragment.d(h),y.on_destroy=y.fragment=null,y.ctx=[])}function mn(u,h){u.$$.dirty[0]===-1&&(te.push(u),sn(),u.$$.dirty.fill(0)),u.$$.dirty[h/31|0]|=1<<h%31}function xn(u,h,y,I,C,x,T,_=[-1]){const A=xe;oe(u);const p=u.$$={fragment:null,ctx:null,props:x,update:Z,not_equal:C,bound:He(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h.context||(A?A.$$.context:[])),callbacks:He(),dirty:_,skip_bound:!1,root:h.target||A.$$.root};T&&T(p.root);let M=!1;if(p.ctx=y?y(u,h.props||{},(d,g,...D)=>{const B=D.length?D[0]:g;return p.ctx&&C(p.ctx[d],p.ctx[d]=B)&&(!p.skip_bound&&p.bound[d]&&p.bound[d](B),M&&mn(u,d)),g}):[],p.update(),M=!0,de(p.before_update),p.fragment=I?I(p.ctx):!1,h.target){if(h.hydrate){const d=fn(h.target);p.fragment&&p.fragment.l(d),d.forEach(on)}else p.fragment&&p.fragment.c();h.intro&&dn(u.$$.fragment),vn(u,h.target,h.anchor,h.customElement),er()}oe(A)}class Nn{$destroy(){hn(this,1),this.$destroy=Z}$on(h,y){const I=this.$$.callbacks[h]||(this.$$.callbacks[h]=[]);return I.push(y),()=>{const C=I.indexOf(y);C!==-1&&I.splice(C,1)}}$set(h){this.$$set&&!tn(h)&&(this.$$.skip_bound=!0,this.$$set(h),this.$$.skip_bound=!1)}}const q=[];function Tn(u,h=Z){let y;const I=new Set;function C(_){if(nn(u,_)&&(u=_,y)){const A=!q.length;for(const p of I)p[1](),q.push(p,u);if(A){for(let p=0;p<q.length;p+=2)q[p][0](q[p+1]);q.length=0}}}function x(_){C(_(u))}function T(_,A=Z){const p=[_,A];return I.add(p),I.size===1&&(y=h(C)||Z),_(u),()=>{I.delete(p),I.size===0&&(y(),y=null)}}return{set:C,update:x,subscribe:T}}var se=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ce(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(u,h){(function(y){u.exports=y()})(function(){return function y(I,C,x){function T(p,M){if(!C[p]){if(!I[p]){var d=typeof ce=="function"&&ce;if(!M&&d)return d(p,!0);if(_)return _(p,!0);var g=new Error("Cannot find module '"+p+"'");throw g.code="MODULE_NOT_FOUND",g}var D=C[p]={exports:{}};I[p][0].call(D.exports,function(B){var k=I[p][1][B];return T(k||B)},D,D.exports,y,I,C,x)}return C[p].exports}for(var _=typeof ce=="function"&&ce,A=0;A<x.length;A++)T(x[A]);return T}({1:[function(y,I,C){(function(x){var T=x.MutationObserver||x.WebKitMutationObserver,_;if(T){var A=0,p=new T(B),M=x.document.createTextNode("");p.observe(M,{characterData:!0}),_=function(){M.data=A=++A%2}}else if(!x.setImmediate&&typeof x.MessageChannel!="undefined"){var d=new x.MessageChannel;d.port1.onmessage=B,_=function(){d.port2.postMessage(0)}}else"document"in x&&"onreadystatechange"in x.document.createElement("script")?_=function(){var P=x.document.createElement("script");P.onreadystatechange=function(){B(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},x.document.documentElement.appendChild(P)}:_=function(){setTimeout(B,0)};var g,D=[];function B(){g=!0;for(var P,V,$=D.length;$;){for(V=D,D=[],P=-1;++P<$;)V[P]();$=D.length}g=!1}I.exports=k;function k(P){D.push(P)===1&&!g&&_()}}).call(this,typeof se!="undefined"?se:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(y,I,C){var x=y(1);function T(){}var _={},A=["REJECTED"],p=["FULFILLED"],M=["PENDING"];I.exports=d;function d(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,v!==T&&k(this,v)}d.prototype.catch=function(v){return this.then(null,v)},d.prototype.then=function(v,E){if(typeof v!="function"&&this.state===p||typeof E!="function"&&this.state===A)return this;var w=new this.constructor(T);if(this.state!==M){var N=this.state===p?v:E;D(w,N,this.outcome)}else this.queue.push(new g(w,v,E));return w};function g(v,E,w){this.promise=v,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(v){_.resolve(this.promise,v)},g.prototype.otherCallFulfilled=function(v){D(this.promise,this.onFulfilled,v)},g.prototype.callRejected=function(v){_.reject(this.promise,v)},g.prototype.otherCallRejected=function(v){D(this.promise,this.onRejected,v)};function D(v,E,w){x(function(){var N;try{N=E(w)}catch(F){return _.reject(v,F)}N===v?_.reject(v,new TypeError("Cannot resolve promise with itself")):_.resolve(v,N)})}_.resolve=function(v,E){var w=P(B,E);if(w.status==="error")return _.reject(v,w.value);var N=w.value;if(N)k(v,N);else{v.state=p,v.outcome=E;for(var F=-1,U=v.queue.length;++F<U;)v.queue[F].callFulfilled(E)}return v},_.reject=function(v,E){v.state=A,v.outcome=E;for(var w=-1,N=v.queue.length;++w<N;)v.queue[w].callRejected(E);return v};function B(v){var E=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof E=="function")return function(){E.apply(v,arguments)}}function k(v,E){var w=!1;function N(z){w||(w=!0,_.reject(v,z))}function F(z){w||(w=!0,_.resolve(v,z))}function U(){E(F,N)}var Y=P(U);Y.status==="error"&&N(Y.value)}function P(v,E){var w={};try{w.value=v(E),w.status="success"}catch(N){w.status="error",w.value=N}return w}d.resolve=V;function V(v){return v instanceof this?v:_.resolve(new this(T),v)}d.reject=$;function $(v){var E=new this(T);return _.reject(E,v)}d.all=ve;function ve(v){var E=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=v.length,N=!1;if(!w)return this.resolve([]);for(var F=new Array(w),U=0,Y=-1,z=new this(T);++Y<w;)K(v[Y],Y);return z;function K(ee,ie){E.resolve(ee).then(he,function(X){N||(N=!0,_.reject(z,X))});function he(X){F[ie]=X,++U===w&&!N&&(N=!0,_.resolve(z,F))}}}d.race=H;function H(v){var E=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=v.length,N=!1;if(!w)return this.resolve([]);for(var F=-1,U=new this(T);++F<w;)Y(v[F]);return U;function Y(z){E.resolve(z).then(function(K){N||(N=!0,_.resolve(U,K))},function(K){N||(N=!0,_.reject(U,K))})}}},{"1":1}],3:[function(y,I,C){(function(x){typeof x.Promise!="function"&&(x.Promise=y(2))}).call(this,typeof se!="undefined"?se:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(y,I,C){var x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function T(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var A=_();function p(){try{if(!A||!A.open)return!1;var e=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function M(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if(t.name!=="TypeError")throw t;for(var r=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}typeof Promise=="undefined"&&y(3);var d=Promise;function g(e,n){n&&e.then(function(r){n(null,r)},function(r){n(r)})}function D(e,n,r){typeof n=="function"&&e.then(n),typeof r=="function"&&e.catch(r)}function B(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",V=void 0,$={},ve=Object.prototype.toString,H="readonly",v="readwrite";function E(e){for(var n=e.length,r=new ArrayBuffer(n),o=new Uint8Array(r),i=0;i<n;i++)o[i]=e.charCodeAt(i);return r}function w(e){return new d(function(n){var r=e.transaction(P,v),o=M([""]);r.objectStore(P).put(o,"key"),r.onabort=function(i){i.preventDefault(),i.stopPropagation(),n(!1)},r.oncomplete=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!i||parseInt(i[1],10)>=43)}}).catch(function(){return!1})}function N(e){return typeof V=="boolean"?d.resolve(V):w(e).then(function(n){return V=n,V})}function F(e){var n=$[e.name],r={};r.promise=new d(function(o,i){r.resolve=o,r.reject=i}),n.deferredOperations.push(r),n.dbReady?n.dbReady=n.dbReady.then(function(){return r.promise}):n.dbReady=r.promise}function U(e){var n=$[e.name],r=n.deferredOperations.pop();if(r)return r.resolve(),r.promise}function Y(e,n){var r=$[e.name],o=r.deferredOperations.pop();if(o)return o.reject(n),o.promise}function z(e,n){return new d(function(r,o){if($[e.name]=$[e.name]||Te(),e.db)if(n)F(e),e.db.close();else return r(e.db);var i=[e.name];n&&i.push(e.version);var t=A.open.apply(A,i);n&&(t.onupgradeneeded=function(a){var f=t.result;try{f.createObjectStore(e.storeName),a.oldVersion<=1&&f.createObjectStore(P)}catch(s){if(s.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+a.oldVersion+" to version "+a.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw s}}),t.onerror=function(a){a.preventDefault(),o(t.error)},t.onsuccess=function(){var a=t.result;a.onversionchange=function(f){f.target.close()},r(a),U(e)}})}function K(e){return z(e,!1)}function ee(e){return z(e,!0)}function ie(e,n){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,i=e.version>e.db.version;if(o&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r){if(r){var t=e.db.version+1;t>e.version&&(e.version=t)}return!0}return!1}function he(e){return new d(function(n,r){var o=new FileReader;o.onerror=r,o.onloadend=function(i){var t=btoa(i.target.result||"");n({__local_forage_encoded_blob:!0,data:t,type:e.type})},o.readAsBinaryString(e)})}function X(e){var n=E(atob(e.data));return M([n],{type:e.type})}function Ne(e){return e&&e.__local_forage_encoded_blob}function nr(e){var n=this,r=n._initReady().then(function(){var o=$[n._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return D(r,e,e),r}function tr(e){F(e);for(var n=$[e.name],r=n.forages,o=0;o<r.length;o++){var i=r[o];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,K(e).then(function(t){return e.db=t,ie(e)?ee(e):t}).then(function(t){e.db=n.db=t;for(var a=0;a<r.length;a++)r[a]._dbInfo.db=t}).catch(function(t){throw Y(e,t),t})}function Q(e,n,r,o){o===void 0&&(o=1);try{var i=e.db.transaction(e.storeName,n);r(null,i)}catch(t){if(o>0&&(!e.db||t.name==="InvalidStateError"||t.name==="NotFoundError"))return d.resolve().then(function(){if(!e.db||t.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ee(e)}).then(function(){return tr(e).then(function(){Q(e,n,r,o-1)})}).catch(r);r(t)}}function Te(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function or(e){var n=this,r={db:null};if(e)for(var o in e)r[o]=e[o];var i=$[r.name];i||(i=Te(),$[r.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=nr);var t=[];function a(){return d.resolve()}for(var f=0;f<i.forages.length;f++){var s=i.forages[f];s!==n&&t.push(s._initReady().catch(a))}var c=i.forages.slice(0);return d.all(t).then(function(){return r.db=i.db,K(r)}).then(function(l){return r.db=l,ie(r,n._defaultConfig.version)?ee(r):l}).then(function(l){r.db=i.db=l,n._dbInfo=r;for(var m=0;m<c.length;m++){var b=c[m];b!==n&&(b._dbInfo.db=r.db,b._dbInfo.version=r.version)}})}function ir(e,n){var r=this;e=B(e);var o=new d(function(i,t){r.ready().then(function(){Q(r._dbInfo,H,function(a,f){if(a)return t(a);try{var s=f.objectStore(r._dbInfo.storeName),c=s.get(e);c.onsuccess=function(){var l=c.result;l===void 0&&(l=null),Ne(l)&&(l=X(l)),i(l)},c.onerror=function(){t(c.error)}}catch(l){t(l)}})}).catch(t)});return g(o,n),o}function ar(e,n){var r=this,o=new d(function(i,t){r.ready().then(function(){Q(r._dbInfo,H,function(a,f){if(a)return t(a);try{var s=f.objectStore(r._dbInfo.storeName),c=s.openCursor(),l=1;c.onsuccess=function(){var m=c.result;if(m){var b=m.value;Ne(b)&&(b=X(b));var S=e(b,m.key,l++);S!==void 0?i(S):m.continue()}else i()},c.onerror=function(){t(c.error)}}catch(m){t(m)}})}).catch(t)});return g(o,n),o}function fr(e,n,r){var o=this;e=B(e);var i=new d(function(t,a){var f;o.ready().then(function(){return f=o._dbInfo,ve.call(n)==="[object Blob]"?N(f.db).then(function(s){return s?n:he(n)}):n}).then(function(s){Q(o._dbInfo,v,function(c,l){if(c)return a(c);try{var m=l.objectStore(o._dbInfo.storeName);s===null&&(s=void 0);var b=m.put(s,e);l.oncomplete=function(){s===void 0&&(s=null),t(s)},l.onabort=l.onerror=function(){var S=b.error?b.error:b.transaction.error;a(S)}}catch(S){a(S)}})}).catch(a)});return g(i,r),i}function ur(e,n){var r=this;e=B(e);var o=new d(function(i,t){r.ready().then(function(){Q(r._dbInfo,v,function(a,f){if(a)return t(a);try{var s=f.objectStore(r._dbInfo.storeName),c=s.delete(e);f.oncomplete=function(){i()},f.onerror=function(){t(c.error)},f.onabort=function(){var l=c.error?c.error:c.transaction.error;t(l)}}catch(l){t(l)}})}).catch(t)});return g(o,n),o}function sr(e){var n=this,r=new d(function(o,i){n.ready().then(function(){Q(n._dbInfo,v,function(t,a){if(t)return i(t);try{var f=a.objectStore(n._dbInfo.storeName),s=f.clear();a.oncomplete=function(){o()},a.onabort=a.onerror=function(){var c=s.error?s.error:s.transaction.error;i(c)}}catch(c){i(c)}})}).catch(i)});return g(r,e),r}function cr(e){var n=this,r=new d(function(o,i){n.ready().then(function(){Q(n._dbInfo,H,function(t,a){if(t)return i(t);try{var f=a.objectStore(n._dbInfo.storeName),s=f.count();s.onsuccess=function(){o(s.result)},s.onerror=function(){i(s.error)}}catch(c){i(c)}})}).catch(i)});return g(r,e),r}function lr(e,n){var r=this,o=new d(function(i,t){if(e<0){i(null);return}r.ready().then(function(){Q(r._dbInfo,H,function(a,f){if(a)return t(a);try{var s=f.objectStore(r._dbInfo.storeName),c=!1,l=s.openKeyCursor();l.onsuccess=function(){var m=l.result;if(!m){i(null);return}e===0||c?i(m.key):(c=!0,m.advance(e))},l.onerror=function(){t(l.error)}}catch(m){t(m)}})}).catch(t)});return g(o,n),o}function dr(e){var n=this,r=new d(function(o,i){n.ready().then(function(){Q(n._dbInfo,H,function(t,a){if(t)return i(t);try{var f=a.objectStore(n._dbInfo.storeName),s=f.openKeyCursor(),c=[];s.onsuccess=function(){var l=s.result;if(!l){o(c);return}c.push(l.key),l.continue()},s.onerror=function(){i(s.error)}}catch(l){i(l)}})}).catch(i)});return g(r,e),r}function vr(e,n){n=k.apply(this,arguments);var r=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var o=this,i;if(!e.name)i=d.reject("Invalid arguments");else{var t=e.name===r.name&&o._dbInfo.db,a=t?d.resolve(o._dbInfo.db):K(e).then(function(f){var s=$[e.name],c=s.forages;s.db=f;for(var l=0;l<c.length;l++)c[l]._dbInfo.db=f;return f});e.storeName?i=a.then(function(f){if(!!f.objectStoreNames.contains(e.storeName)){var s=f.version+1;F(e);var c=$[e.name],l=c.forages;f.close();for(var m=0;m<l.length;m++){var b=l[m];b._dbInfo.db=null,b._dbInfo.version=s}var S=new d(function(R,L){var O=A.open(e.name,s);O.onerror=function(W){var ne=O.result;ne.close(),L(W)},O.onupgradeneeded=function(){var W=O.result;W.deleteObjectStore(e.storeName)},O.onsuccess=function(){var W=O.result;W.close(),R(W)}});return S.then(function(R){c.db=R;for(var L=0;L<l.length;L++){var O=l[L];O._dbInfo.db=R,U(O._dbInfo)}}).catch(function(R){throw(Y(e,R)||d.resolve()).catch(function(){}),R})}}):i=a.then(function(f){F(e);var s=$[e.name],c=s.forages;f.close();for(var l=0;l<c.length;l++){var m=c[l];m._dbInfo.db=null}var b=new d(function(S,R){var L=A.deleteDatabase(e.name);L.onerror=function(){var O=L.result;O&&O.close(),R(L.error)},L.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},L.onsuccess=function(){var O=L.result;O&&O.close(),S(O)}});return b.then(function(S){s.db=S;for(var R=0;R<c.length;R++){var L=c[R];U(L._dbInfo)}}).catch(function(S){throw(Y(e,S)||d.resolve()).catch(function(){}),S})})}return g(i,n),i}var hr={_driver:"asyncStorage",_initStorage:or,_support:p(),iterate:ar,getItem:ir,setItem:fr,removeItem:ur,clear:sr,length:cr,key:lr,keys:dr,dropInstance:vr};function mr(){return typeof openDatabase=="function"}var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yr="~~local_forage_type~",De=/^~~local_forage_type~([^~]+)~/,ae="__lfsc__:",me=ae.length,ye="arbf",pe="blob",Be="si08",Ce="ui08",Oe="uic8",Le="si16",Pe="si32",$e="ur16",Fe="ui32",Me="fl32",Ue="fl64",Ye=me+ye.length,ze=Object.prototype.toString;function We(e){var n=e.length*.75,r=e.length,o,i=0,t,a,f,s;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var c=new ArrayBuffer(n),l=new Uint8Array(c);for(o=0;o<r;o+=4)t=j.indexOf(e[o]),a=j.indexOf(e[o+1]),f=j.indexOf(e[o+2]),s=j.indexOf(e[o+3]),l[i++]=t<<2|a>>4,l[i++]=(a&15)<<4|f>>2,l[i++]=(f&3)<<6|s&63;return c}function ge(e){var n=new Uint8Array(e),r="",o;for(o=0;o<n.length;o+=3)r+=j[n[o]>>2],r+=j[(n[o]&3)<<4|n[o+1]>>4],r+=j[(n[o+1]&15)<<2|n[o+2]>>6],r+=j[n[o+2]&63];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function pr(e,n){var r="";if(e&&(r=ze.call(e)),e&&(r==="[object ArrayBuffer]"||e.buffer&&ze.call(e.buffer)==="[object ArrayBuffer]")){var o,i=ae;e instanceof ArrayBuffer?(o=e,i+=ye):(o=e.buffer,r==="[object Int8Array]"?i+=Be:r==="[object Uint8Array]"?i+=Ce:r==="[object Uint8ClampedArray]"?i+=Oe:r==="[object Int16Array]"?i+=Le:r==="[object Uint16Array]"?i+=$e:r==="[object Int32Array]"?i+=Pe:r==="[object Uint32Array]"?i+=Fe:r==="[object Float32Array]"?i+=Me:r==="[object Float64Array]"?i+=Ue:n(new Error("Failed to get type for BinaryArray"))),n(i+ge(o))}else if(r==="[object Blob]"){var t=new FileReader;t.onload=function(){var a=yr+e.type+"~"+ge(this.result);n(ae+pe+a)},t.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),n(null,a)}}function gr(e){if(e.substring(0,me)!==ae)return JSON.parse(e);var n=e.substring(Ye),r=e.substring(me,Ye),o;if(r===pe&&De.test(n)){var i=n.match(De);o=i[1],n=n.substring(i[0].length)}var t=We(n);switch(r){case ye:return t;case pe:return M([t],{type:o});case Be:return new Int8Array(t);case Ce:return new Uint8Array(t);case Oe:return new Uint8ClampedArray(t);case Le:return new Int16Array(t);case $e:return new Uint16Array(t);case Pe:return new Int32Array(t);case Fe:return new Uint32Array(t);case Me:return new Float32Array(t);case Ue:return new Float64Array(t);default:throw new Error("Unkown type: "+r)}}var _e={serialize:pr,deserialize:gr,stringToBuffer:We,bufferToString:ge};function ke(e,n,r,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,o)}function _r(e){var n=this,r={db:null};if(e)for(var o in e)r[o]=typeof e[o]!="string"?e[o].toString():e[o];var i=new d(function(t,a){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(f){return a(f)}r.db.transaction(function(f){ke(f,r,function(){n._dbInfo=r,t()},function(s,c){a(c)})},a)});return r.serializer=_e,i}function G(e,n,r,o,i,t){e.executeSql(r,o,i,function(a,f){f.code===f.SYNTAX_ERR?a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(s,c){c.rows.length?t(s,f):ke(s,n,function(){s.executeSql(r,o,i,t)},t)},t):t(a,f)},t)}function br(e,n){var r=this;e=B(e);var o=new d(function(i,t){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(f){G(f,a,"SELECT * FROM "+a.storeName+" WHERE key = ? LIMIT 1",[e],function(s,c){var l=c.rows.length?c.rows.item(0).value:null;l&&(l=a.serializer.deserialize(l)),i(l)},function(s,c){t(c)})})}).catch(t)});return g(o,n),o}function wr(e,n){var r=this,o=new d(function(i,t){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(f){G(f,a,"SELECT * FROM "+a.storeName,[],function(s,c){for(var l=c.rows,m=l.length,b=0;b<m;b++){var S=l.item(b),R=S.value;if(R&&(R=a.serializer.deserialize(R)),R=e(R,S.key,b+1),R!==void 0){i(R);return}}i()},function(s,c){t(c)})})}).catch(t)});return g(o,n),o}function Ve(e,n,r,o){var i=this;e=B(e);var t=new d(function(a,f){i.ready().then(function(){n===void 0&&(n=null);var s=n,c=i._dbInfo;c.serializer.serialize(n,function(l,m){m?f(m):c.db.transaction(function(b){G(b,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,l],function(){a(s)},function(S,R){f(R)})},function(b){if(b.code===b.QUOTA_ERR){if(o>0){a(Ve.apply(i,[e,s,r,o-1]));return}f(b)}})})}).catch(f)});return g(t,r),t}function Er(e,n,r){return Ve.apply(this,[e,n,r,1])}function Sr(e,n){var r=this;e=B(e);var o=new d(function(i,t){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(f){G(f,a,"DELETE FROM "+a.storeName+" WHERE key = ?",[e],function(){i()},function(s,c){t(c)})})}).catch(t)});return g(o,n),o}function Ir(e){var n=this,r=new d(function(o,i){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(a){G(a,t,"DELETE FROM "+t.storeName,[],function(){o()},function(f,s){i(s)})})}).catch(i)});return g(r,e),r}function Rr(e){var n=this,r=new d(function(o,i){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(a){G(a,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(f,s){var c=s.rows.item(0).c;o(c)},function(f,s){i(s)})})}).catch(i)});return g(r,e),r}function Ar(e,n){var r=this,o=new d(function(i,t){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(f){G(f,a,"SELECT key FROM "+a.storeName+" WHERE id = ? LIMIT 1",[e+1],function(s,c){var l=c.rows.length?c.rows.item(0).key:null;i(l)},function(s,c){t(c)})})}).catch(t)});return g(o,n),o}function xr(e){var n=this,r=new d(function(o,i){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(a){G(a,t,"SELECT key FROM "+t.storeName,[],function(f,s){for(var c=[],l=0;l<s.rows.length;l++)c.push(s.rows.item(l).key);o(c)},function(f,s){i(s)})})}).catch(i)});return g(r,e),r}function Nr(e){return new d(function(n,r){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(i,t){for(var a=[],f=0;f<t.rows.length;f++)a.push(t.rows.item(f).name);n({db:e,storeNames:a})},function(i,t){r(t)})},function(o){r(o)})})}function Tr(e,n){n=k.apply(this,arguments);var r=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var o=this,i;return e.name?i=new d(function(t){var a;e.name===r.name?a=o._dbInfo.db:a=openDatabase(e.name,"","",0),e.storeName?t({db:a,storeNames:[e.storeName]}):t(Nr(a))}).then(function(t){return new d(function(a,f){t.db.transaction(function(s){function c(S){return new d(function(R,L){s.executeSql("DROP TABLE IF EXISTS "+S,[],function(){R()},function(O,W){L(W)})})}for(var l=[],m=0,b=t.storeNames.length;m<b;m++)l.push(c(t.storeNames[m]));d.all(l).then(function(){a()}).catch(function(S){f(S)})},function(s){f(s)})})}):i=d.reject("Invalid arguments"),g(i,n),i}var Dr={_driver:"webSQLStorage",_initStorage:_r,_support:mr(),iterate:wr,getItem:br,setItem:Er,removeItem:Sr,clear:Ir,length:Rr,key:Ar,keys:xr,dropInstance:Tr};function Br(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ke(e,n){var r=e.name+"/";return e.storeName!==n.storeName&&(r+=e.storeName+"/"),r}function Cr(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Or(){return!Cr()||localStorage.length>0}function Lr(e){var n=this,r={};if(e)for(var o in e)r[o]=e[o];return r.keyPrefix=Ke(e,n._defaultConfig),Or()?(n._dbInfo=r,r.serializer=_e,d.resolve()):d.reject()}function Pr(e){var n=this,r=n.ready().then(function(){for(var o=n._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var t=localStorage.key(i);t.indexOf(o)===0&&localStorage.removeItem(t)}});return g(r,e),r}function $r(e,n){var r=this;e=B(e);var o=r.ready().then(function(){var i=r._dbInfo,t=localStorage.getItem(i.keyPrefix+e);return t&&(t=i.serializer.deserialize(t)),t});return g(o,n),o}function Fr(e,n){var r=this,o=r.ready().then(function(){for(var i=r._dbInfo,t=i.keyPrefix,a=t.length,f=localStorage.length,s=1,c=0;c<f;c++){var l=localStorage.key(c);if(l.indexOf(t)===0){var m=localStorage.getItem(l);if(m&&(m=i.serializer.deserialize(m)),m=e(m,l.substring(a),s++),m!==void 0)return m}}});return g(o,n),o}function Mr(e,n){var r=this,o=r.ready().then(function(){var i=r._dbInfo,t;try{t=localStorage.key(e)}catch{t=null}return t&&(t=t.substring(i.keyPrefix.length)),t});return g(o,n),o}function Ur(e){var n=this,r=n.ready().then(function(){for(var o=n._dbInfo,i=localStorage.length,t=[],a=0;a<i;a++){var f=localStorage.key(a);f.indexOf(o.keyPrefix)===0&&t.push(f.substring(o.keyPrefix.length))}return t});return g(r,e),r}function Yr(e){var n=this,r=n.keys().then(function(o){return o.length});return g(r,e),r}function zr(e,n){var r=this;e=B(e);var o=r.ready().then(function(){var i=r._dbInfo;localStorage.removeItem(i.keyPrefix+e)});return g(o,n),o}function Wr(e,n,r){var o=this;e=B(e);var i=o.ready().then(function(){n===void 0&&(n=null);var t=n;return new d(function(a,f){var s=o._dbInfo;s.serializer.serialize(n,function(c,l){if(l)f(l);else try{localStorage.setItem(s.keyPrefix+e,c),a(t)}catch(m){(m.name==="QuotaExceededError"||m.name==="NS_ERROR_DOM_QUOTA_REACHED")&&f(m),f(m)}})})});return g(i,r),i}function kr(e,n){if(n=k.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var o=this,i;return e.name?i=new d(function(t){e.storeName?t(Ke(e,o._defaultConfig)):t(e.name+"/")}).then(function(t){for(var a=localStorage.length-1;a>=0;a--){var f=localStorage.key(a);f.indexOf(t)===0&&localStorage.removeItem(f)}}):i=d.reject("Invalid arguments"),g(i,n),i}var Vr={_driver:"localStorageWrapper",_initStorage:Lr,_support:Br(),iterate:Fr,getItem:$r,setItem:Wr,removeItem:zr,clear:Pr,length:Yr,key:Mr,keys:Ur,dropInstance:kr},Kr=function(n,r){return n===r||typeof n=="number"&&typeof r=="number"&&isNaN(n)&&isNaN(r)},Qr=function(n,r){for(var o=n.length,i=0;i<o;){if(Kr(n[i],r))return!0;i++}return!1},Qe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},je={},J={INDEXEDDB:hr,WEBSQL:Dr,LOCALSTORAGE:Vr},jr=[J.INDEXEDDB._driver,J.WEBSQL._driver,J.LOCALSTORAGE._driver],fe=["dropInstance"],be=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(fe),Gr={description:"",driver:jr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Hr(e,n){e[n]=function(){var r=arguments;return e.ready().then(function(){return e[n].apply(e,r)})}}function we(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)n.hasOwnProperty(r)&&(Qe(n[r])?arguments[0][r]=n[r].slice():arguments[0][r]=n[r])}return arguments[0]}var Xr=function(){function e(n){T(this,e);for(var r in J)if(J.hasOwnProperty(r)){var o=J[r],i=o._driver;this[r]=i,re[i]||this.defineDriver(o)}this._defaultConfig=we({},Gr),this._config=we({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(r){if((typeof r=="undefined"?"undefined":x(r))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var o in r){if(o==="storeName"&&(r[o]=r[o].replace(/\W/g,"_")),o==="version"&&typeof r[o]!="number")return new Error("Database version must be a number.");this._config[o]=r[o]}return"driver"in r&&r.driver?this.setDriver(this._config.driver):!0}else return typeof r=="string"?this._config[r]:this._config},e.prototype.defineDriver=function(r,o,i){var t=new d(function(a,f){try{var s=r._driver,c=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!r._driver){f(c);return}for(var l=be.concat("_initStorage"),m=0,b=l.length;m<b;m++){var S=l[m],R=!Qr(fe,S);if((R||r[S])&&typeof r[S]!="function"){f(c);return}}var L=function(){for(var ne=function(Zr){return function(){var en=new Error("Method "+Zr+" is not implemented by the current driver"),Ge=d.reject(en);return g(Ge,arguments[arguments.length-1]),Ge}},Ee=0,qr=fe.length;Ee<qr;Ee++){var Se=fe[Ee];r[Se]||(r[Se]=ne(Se))}};L();var O=function(ne){re[s]&&console.info("Redefining LocalForage driver: "+s),re[s]=r,je[s]=ne,a()};"_support"in r?r._support&&typeof r._support=="function"?r._support().then(O,f):O(!!r._support):O(!0)}catch(W){f(W)}});return D(t,o,i),t},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(r,o,i){var t=re[r]?d.resolve(re[r]):d.reject(new Error("Driver not found."));return D(t,o,i),t},e.prototype.getSerializer=function(r){var o=d.resolve(_e);return D(o,r),o},e.prototype.ready=function(r){var o=this,i=o._driverSet.then(function(){return o._ready===null&&(o._ready=o._initDriver()),o._ready});return D(i,r,r),i},e.prototype.setDriver=function(r,o,i){var t=this;Qe(r)||(r=[r]);var a=this._getSupportedDrivers(r);function f(){t._config.driver=t.driver()}function s(m){return t._extend(m),f(),t._ready=t._initStorage(t._config),t._ready}function c(m){return function(){var b=0;function S(){for(;b<m.length;){var R=m[b];return b++,t._dbInfo=null,t._ready=null,t.getDriver(R).then(s).catch(S)}f();var L=new Error("No available storage method found.");return t._driverSet=d.reject(L),t._driverSet}return S()}}var l=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=l.then(function(){var m=a[0];return t._dbInfo=null,t._ready=null,t.getDriver(m).then(function(b){t._driver=b._driver,f(),t._wrapLibraryMethodsWithReady(),t._initDriver=c(a)})}).catch(function(){f();var m=new Error("No available storage method found.");return t._driverSet=d.reject(m),t._driverSet}),D(this._driverSet,o,i),this._driverSet},e.prototype.supports=function(r){return!!je[r]},e.prototype._extend=function(r){we(this,r)},e.prototype._getSupportedDrivers=function(r){for(var o=[],i=0,t=r.length;i<t;i++){var a=r[i];this.supports(a)&&o.push(a)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var r=0,o=be.length;r<o;r++)Hr(this,be[r])},e.prototype.createInstance=function(r){return new e(r)},e}(),Jr=new Xr;I.exports=Jr},{"3":3}]},{},[4])(4)})})(rr);var Dn=rr.exports;export{Nn as S,Sn as a,Rn as b,wn as c,bn as d,En as e,In as f,pn as g,An as h,xn as i,on as j,gn as k,Dn as l,_n as m,Z as n,de as r,nn as s,an as t,Tn as w};
